<div class="top-container">
    <div class="top-content">
        <div class="pickers">
            <input class="colorpicker" [(colorPicker)]="colorBackground" [style.background]="colorBackground" />
            <label class="ui label pickerLabel">Fond</label>
            <input class="colorpicker margin" [(colorPicker)]="colorTitle" [style.background]="colorTitle" />
            <label class="ui label pickerLabel">Titre</label>
        </div>
        <div class="buttons">
            <button class="ui primary button">
                Exporter en PDF
            </button>
            <button class="ui primary button">
                Exporter en format web
            </button>
        </div>
    </div>
</div>
<div class="body" [style.background]="colorBackground">
    <div class="body-content">
        <div class="rubrique">
            <label>{{(profile$ | async)?.firstName}} {{(profile$ | async)?.lastName}}</label>
            <label>{{(contacts$ | async)?.phone}} {{(contact$ | async)?.mail}}</label>
            <img src="{{(profile$ | async)?.imageUrl}}" alt="profilePicture">
        </div>
        <div class="rubrique">
            <h2 [style.color]="colorTitle">Presentation</h2>
            <p>{{(presentation$ | async)?.description}}</p>
            <div class="meta">Qualifications</div>
            <p>{{(presentation$ | async)?.qualifications}}</p>
            <div class="meta">Centres d'intérêts</div>
            <p>{{(presentation$ | async)?.interests}}</p>
        </div>
        <div class="rubrique">
            <h2 [style.color]="colorTitle">Compétences</h2>
            <p>{{(skills$ | async)?.introduction}}</p>
            <div *ngFor="let s of (skills$ | async)?.skillsArray">
                <label>{{s.label}}</label>
                <p>VALEUR (faire une barre ici) : {{s.value}}</p>
            </div>
        </div>
        <div class="rubrique">
            <h2 [style.color]="colorTitle">Expériences</h2>
            <p>{{(experiences$ | async)?.introduction}}</p>
            <div *ngFor="let e of (experiences$ | async)?.experiencesArray">
                <label>{{e.period.startDate}} - {{e.period.endDate}}</label>
                <h3>{{e.label}}</h3>
                <h4>{{e.company}}</h4>
                <p>{{e.description}}</p>
            </div>
        </div>
        <div class="rubrique">
            <h2 [style.color]="colorTitle">Formations</h2>
            <p>{{(trainings$ | async)?.introduction}}</p>
            <div *ngFor="let t of (trainings$ | async)?.trainingsArray">
                <label>{{t.period.startDate}} - {{t.period.endDate}}</label>
                <h3>{{t.label}}</h3>
                <h4>{{t.school}}</h4>
                <p>{{t.description}}</p>
            </div>
            <hr>
            <h2 [style.color]="colorTitle">Certifications</h2>
            <p>{{(certifications$ | async)?.introduction}}</p>
            <div *ngFor="let c of (certifications$ | async)?.certificationsArray">
                <label>{{c.period.startDate}} - {{c.period.endDate}}</label>
                <h3>{{c.label}}</h3>
                <h4>{{c.company}}</h4>
                <p>{{c.description}}</p>
            </div>
        </div>
        <div class="rubrique">
            <h2 [style.color]="colorTitle">Réalisations</h2>
            <p>{{(creations$ | async)?.introduction}}</p>
            <div *ngFor="let image of (creations$ | async)?.imageList; let i = index" class="creation-list">
                <video *ngIf="image.type.split('/')[0] === 'video'" width="320" height="240" controls>
                    <source [src]="image.url" type="video/mp4">
                </video>
                <img *ngIf="image.type.split('/')[0] === 'image'" class="creation" [src]="image.url" alt="">
            </div>
        </div>
        <div class="rubrique">
            <h2 [style.color]="colorTitle">Références</h2>
            <div *ngFor="let c of (references$ | async)?.comments">
                <h3>{{c.author}}</h3>
                <h4>{{c.company}}</h4>
                <p>{{c.value}}</p>
            </div>
        </div>
    </div>
</div>